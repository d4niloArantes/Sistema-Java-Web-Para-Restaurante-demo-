<html>
<head>
	<link rel="stylesheet" href="css/bootstrap.css"/>
	<link rel="stylesheet" href="css/bootstrap.min.css"/>
	<link rel="stylesheet" href="css/bootstrap-theme.css"/>
	<link rel="stylesheet" href="css/bootstrap-theme.min.css"/>
	<link rel="stylesheet" href="css/style.css"/>
</head>
<body>
	<div class="container">
		<form th:action="@{/logout}" method="post">
				<input type="submit" value="Logout" class="btn btn-danger"/>
		</form>
		<div class="panel panel-default">
			<ul class="nav nav-tabs">
				<li role="presentation" class="active">
					<a href="/pedido">
						<span class="glyphicon glyphicon-pencil"/>
						Realizar/Finalizar Pedido
					</a>
				</li>
				<li role="presentation">
					<a href="/itemPedido2">
						<span class="glyphicon glyphicon-duplicate"/>
						Acompanhar pedido
					</a>
				</li>
				<li role="presentation">
					<a href="/mesa">
						<span class="glyphicon glyphicon-list"/>
						Mesas
					</a>
				</li>
				<li role="presentation">
					<a href="/prato">
						<span class="glyphicon glyphicon-list-alt"/>
						Cardápio
					</a>
				</li>
				<li role="presentation">
					<a href="/cozinha">
						<span class="glyphicon glyphicon-cutlery"/>
						Cozinha
					</a>
				</li>
			</ul>
			<h3 class = "list-group-item active">Pedidos</h3>
			<div class="panel-body">
				<form class="form" method="post" action="/pedido/save">
				<fieldset>
	                	<legend>Cadastrar um Pedido</legend>
					<div class="form-group">
						<label>Número da mesa:</label>
						<select class="selectpicker" name="mesa">
						      <option th:each="mesa:${mesas}" th:text="${mesa.id}" th:value="${mesa.id}"/>
						</select>						
					</div>
					<button type="submit" class="btn .btn-primary">Salvar</button>
				</fieldset>
				</form>	
				<div class="panel panel-default">  
  					<div class="panel-heading">Lista de Pedidos</div>	
					<table class="table table-striped">
						<thead>
							<tr>
								<th>Número Pedido</th>
								<th>Mesa</th>
								<th>Valor</th>
								<th>Add Prato</th>
								<th>Finalizar</th>
							</tr>
						</thead>
						<tbody>
							<tr th:each="pedido:${pedidos}">
								<td th:text="${pedido.id}"></td>
								<!-- <td>
									<form class="form" method="post" action="/itemPedido/save">
					                	<h6>Cadastrar um pedido</h6>
										<input type="hidden" name="pedido" th:value="${pedido.id}"/>
										<label>Prato:</label>
										<select class="selectpicker" name="item">
										      <option th:each="item:${itens}" th:text="${item.descItem}" 
										      th:value="${item.id}"/>
										</select><br/>
										<div class="input-group input-group-sm">
											<input type="text" name="qtdItem" placeholder="Quantidade" class="form-control"/>
										</div>
										<button type="submit" class="btn .btn-primary">Salvar</button>	
									</form>
									<div class="panel panel-default">  
					  					<div class="panel-heading">Lista de Pedidos</div>
										<table class="table table-striped">
											<thead>
												<tr>
													<th>Descrição</th>
													<th>Quantidade</th>
													<th>Valor</th>
													<th>Finalizado</th>
												</tr>
											</thead>
											<tbody>
												<tr th:each="iPedido:${iPedidos}">
													<td th:text="${iPedido.item.descItem}"></td>
													<td th:text="${iPedido.qtdItem}"></td>
													<td th:text="${iPedido.valor}"></td>
													<td>
														<div th:if="${iPedido.estado} == 0">
															SIM<span class="glyphicon glyphicon-thumbs-up"></span>
														</div>
														<div th:if="${iPedido.estado} == 1">
															NÃO<span class="glyphicon glyphicon-thumbs-down"></span>
														</div>
													</td>
												</tr>
											</tbody>
										</table>
									</div>
								</td> -->
								<td th:text="${pedido.mesa.id}"></td>
								<td th:text="${pedido.valor}"></td>
								<td>
									<a th:href="@{/itemPedido(id=${pedido.id})}" class="btn btn-info">
										<span class="glyphicon glyphicon-cutlery"/>
									</a>
								</td>
								<td>
									<span class="form-error" th:if="${param.error}">
										Contém pratos não finalizados!
									</span>
									<a th:href="@{/pedido/finalizar(id=${pedido.id})}" class="btn btn-warning">
										<span class="glyphicon glyphicon-ok-circle"/>
									</a>
								</td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
		</div>
	</div>
</body>
</html>